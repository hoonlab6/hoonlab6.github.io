<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-language" content="en">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>How to Install Software</title>
  <meta name="description" content="How to Install Software">
  <meta name="author" content="Stanford Research Computing Center">
  <meta name="theme-color" content="red">    
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
  <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="canonical" href="http://localhost:4000/docs/software/how-to-install">
  <link rel="alternate" type="application/rss+xml" title="Stanford Research Computing" href="http://localhost:4000/feed.xml">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">      
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">  
  <script src="/assets/js/modernizr.74668098.js"></script>
  <link rel="shortcut icon" href="/assets/img/favicon/favicon.ico"> 
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/palette.css">


  <body dir="ltr" data-md-color-primary="red" data-md-color-accent="red">
    <svg class="md-svg">
<defs>
  <svg>
  <path d="M160 304q0 10-3.125 20.5t-10.75 19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75 19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360 304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25 2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75 1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75 0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5 46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor"></path></svg>
</defs></svg>

    <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off>
    <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off>
    <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href="#how-to-install-software" tabindex=1 class=md-skip> Skip to content </a>
    <header class=md-header data-md-component=header>
        <nav class="md-header-nav md-grid">
            <div class=md-flex>
                <div class="md-flex__cell md-flex__cell--shrink">
                  <a class="md-header-nav__button md-logo" href="http://localhost:4000" title="Stanford Research Computing">
                    <i class="md-icon" style="margin-top:5px"></i></a>
                </div>
                <div class="md-flex__cell md-flex__cell--shrink">
                    <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label>
                </div>
                <div class="md-flex__cell md-flex__cell--stretch">
                    <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> 
                        <span class=md-header-nav__topic>Stanford Research Computing</span>
                        <span class=md-header-nav__topic>How to Install Software</span>
                    </div>
                </div>
                <div class="md-flex__cell md-flex__cell--shrink">
                    <label class="md-icon md-icon--search md-header-nav__button" for=__search></label>
                    <div class=md-search data-md-component=search role=dialog>
                        <label class=md-search__overlay for=__search></label>
                        <div class=md-search__inner role=search>
                            <form class=md-search__form name=search>
                                <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active>
                                <label class="md-icon md-search__icon" for=__search></label>
                                <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button>
                            </form>
                            <div class=md-search__output>
                                <div class=md-search__scrollwrap data-md-scrollfix>
                                    <div class=md-search-result data-md-component=result>
                                        <div class=md-search-result__meta> Type to start searching </div>
                                        <ol class=md-search-result__list></ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/stanford-rc/stanford-rc.github.io" title="Go to repository">
          <div class="md-source__icon" style="padding-top:5px">
            <i class="fa fa-github fa-3x"></i>
          </div>
          <div class="md-source__repository">
            stanford-rc/stanford-rc.github.io
          </div></a>
        </div>
      </div>
    </div>
  </nav>
</header>


    <div class="md-container">         
        <main class="md-main">
            <div class="md-main__inner md-grid" data-md-component="container">
            <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <nav class="md-nav md-nav--primary" data-md-level="0">
        <label class="md-nav__title md-nav__title--site" for="__drawer"><span class="md-nav__button md-logo"><i class="md-icon"></i></span> Stanford Research Computing</label>
        <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/stanford-rc/stanford-rc.github.io" title="Go to repository">
          <div class="md-source__icon">
            <svg height="24" viewbox="0 0 24 24" width="24">
            <use height="24" width="24" xlink:href="#__github"></use></svg>
          </div>
          <div class="md-source__repository">
            stanford-rc/stanford-rc.github.io
          </div></a>
        </div>

        <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item md-nav__item--active">
            <input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"> 
                <label class="md-nav__link md-nav__link--active" for="__toc">Home</label>
                  <a class="md-nav__link md-nav__link--active" href="/" title="Home">Home</a>

            <nav class="md-nav md-nav--secondary">
              <label class="md-nav__title" for="__toc">Table of contents</label>
              <ul class="md-nav__list" data-md-scrollfix="">
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/getting-started"
                     id="pancakes-getting-started" 
                     title="Getting Started">Getting Started</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/software"
                     id="pancakes-software" 
                     title="Software">Software</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/job-managers"
                     id="pancakes-job-management" 
                     title="Job Management">Job Management</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/tutorials/"
                     id="pancakes-tutorials" 
                     title="Tutorials">Tutorials</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/about"
                     id="pancakes-about" 
                     title="About">About</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/news"
                     id="pancakes-news" 
                     title="News">News</a>
                </li>
                
              </ul>
            </nav>
          </li>

          <!-- This navigation is completely for mobile -->
          <li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/getting-started" title="Getting Started">Getting Started</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/software" title="Software">Software</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/job-managers" title="Job Management">Job Management</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/tutorials/" title="Tutorials">Tutorials</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/about" title="About">About</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/news" title="News">News</a>
          </li>

          <!-- This navigation is completely for non mobile -->
         
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="#pancakes-getting-started"
                id="pancakes-getting-started" 
                title="Getting Started">Getting Started</a>
                <nav class="md-nav">
                    <ul class="md-nav__list">
                        <li class="md-nav__item">
                        <a href="/docs/getting-started/" 
                           title="Overview" style="display:none"
                           class="md-nav__link pancakes-child">Overview</a>
                        </li>
                    </ul>
              </nav>
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="#pancakes-software"
                id="pancakes-software" 
                title="Software">Software</a>
                <nav class="md-nav">
                    <ul class="md-nav__list">
                        <li class="md-nav__item">
                        <a href="/docs/software/" 
                           title="Overview" style="display:none"
                           class="md-nav__link pancakes-child">Overview</a>
                        </li><li class="md-nav__item">
                        <a href="/docs/software/how-to-install" 
                           title="Installing Software" style="display:none"
                           class="md-nav__link pancakes-child">Installing Software</a>
                        </li><li class="md-nav__item">
                        <a href="/docs/software/guides/" 
                           title="Software Guides" style="display:none"
                           class="md-nav__link pancakes-child">Software Guides</a>
                        </li>
                    </ul>
              </nav>
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="#pancakes-job-management"
                id="pancakes-job-management" 
                title="Job Management">Job Management</a>
                <nav class="md-nav">
                    <ul class="md-nav__list">
                        <li class="md-nav__item">
                        <a href="/docs/job-managers/" 
                           title="Overview" style="display:none"
                           class="md-nav__link pancakes-child">Overview</a>
                        </li><li class="md-nav__item">
                        <a href="/docs/job-managers/slurm" 
                           title="slurm" style="display:none"
                           class="md-nav__link pancakes-child">slurm</a>
                        </li>
                    </ul>
              </nav>
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="/docs/tutorials/"
                id="pancakes-tutorials" 
                title="Tutorials">Tutorials</a>
                
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="/about"
                id="pancakes-about" 
                title="About">About</a>
                
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="/news"
                id="pancakes-news" 
                title="News">News</a>
                
         </li>

        </ul>
      </nav>
    </div>
  </div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <nav class="md-nav md-nav--secondary">
        <label class="md-nav__title" for="__toc">Table of contents</label>
        <ul id="nav-toc" class="md-nav__list" data-md-scrollfix="">
        <!-- toc will be appended here!-->
        </ul>
      </nav>
    </div>
  </div>
</div>

                <div id="md-container-pancakes">
                <div class="md-content"> 
    <article class="md-content__inner md-typeset">
    <h1 id="how-to-install-software">How to Install Software</h1>

<p>Did you know that you are empowered to install your own software, if needed? Let’s
talk about different ways to go about this.</p>

<ul>
  <li><a href="#building-software-from-source">Building Software from Source</a></li>
  <li><a href="#using-a-package-manager">Using a Package Manager</a></li>
  <li><a href="#using-containers">Using Containers</a></li>
</ul>

<h2 id="building-software-from-source">Building Software from Source</h2>

<p>Much software is available as source code and can be configured to target a local directory for installation. The process, after downloading the source archive and unpacking it into a new subdirectory, usually involves some combination of the configure and make commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./configure <span class="nt">--prefix</span><span class="o">=</span><span class="nv">$HOME</span>/.local 
<span class="nv">$ </span>make 
<span class="nv">$ </span>make <span class="nb">test</span> 
<span class="nv">$ </span>make <span class="nb">install</span>
</code></pre></div></div>

<p>If you download source code and see that there is a configure, or a Makefile, you
can usually look for a README or INSTALL file to see complete instructions.</p>

<p><em>What does the prefix mean?</em></p>

<p>The prefix directory is where build products will end up, organized in subdirectories (<em>e.g.</em>, bin, lib, and include). In the example above newly built software is installed in a (hidden) subdirectory of your home directory, ~/.local, but you can choose any subdirectory you like.  For example,
it could be that your $HOME is filled up, and you want to have a base for software in your
scratch:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$SCRATCH</span>/software
</code></pre></div></div>

<p>Whether you use ~/.local or your scratch, you will want to modify your shell environment so new software can be easily found. So let’s open up our ~/.bashrc and add a few lines to our $PATH:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/.local/bin:<span class="nv">$PATH</span>  
<span class="c"># or</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$SCRATCH</span>/software/bin:<span class="nv">$PATH</span>  
</code></pre></div></div>

<p>While this method works well for simple applications and libraries, more complex software may require you to apply patches or build any dependencies that are not already installed. Luckily, there are a number of tools that can automate this process!</p>

<h2 id="using-a-package-manager">Using a Package Manager</h2>

<p>Package managers provide simple, single-command installation of software from a central repository, usually with little or no additional configuration required. This is the most convenient method for most users, and you’ll probably want to fall back on a manual build only when a package is not available in your preferred package manager.</p>

<h3 id="linuxbrew">Linuxbrew</h3>

<p><a href="http://linuxbrew.sh">Linuxbrew</a> is a port of the <a href="http://brew.sh">Homebrew</a> package manager for macOS. Installation is simple!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ruby <span class="nt">-e</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/Linuxbrew/install/master/install<span class="si">)</span><span class="s2">"</span>  
</code></pre></div></div>

<p>By default, both Linuxbrew itself and all managed software are installed in ~/.linuxbrew, so you’ll want to add this to your $PATH (again in your ~/.bashrc):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/.linuxbrew/bin:<span class="nv">$PATH</span>
</code></pre></div></div>

<p>The brew command is used to search the repository, get information on software, and install packages.
Let’s <a href="https://formulae.brew.sh/formula/">look for</a> something fun.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew search nyancat
<span class="nv">$ </span>brew info nyancat
<span class="nv">$ </span>brew <span class="nb">install </span>nyancat
</code></pre></div></div>

<p>Let’s run it!</p>

<script id="asciicast-258360" src="https://asciinema.org/a/258360.js" async=""></script>

<p>Linuxbrew is great because it can also update itself and the list of available packages, and upgrade already installed software when new versions become available.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew update          <span class="c"># update linuxbrew</span>
<span class="nv">$ </span>brew update nyancat  <span class="c"># update a package</span>
</code></pre></div></div>

<h3 id="spack">Spack</h3>

<p><a href="http://spack.readthedocs.io">Spack</a> is a package manager targeted at scientific computing. It has support for fewer packages than Linuxbrew and is a bit more difficult to install, configure, and use, but it provides <em>far</em> more extensive control over versions, dependencies, and build-time options when installing software. Spack also supports installing more than one version of a single package, or multiple installations of the same version with different build options, and integrates with FarmShare’s existing module system, allowing you to select from among those versions at runtime.</p>

<p>To install it, just clone the Spack <a href="https://github.com/LLNL/spack">git repository</a>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone https://github.com/llnl/spack.git .spack
</code></pre></div></div>

<p>In this example Spack and managed software is installed in ~/.spack, but you can choose another directory if you like. You should probably add $HOME/.spack/bin to your $PATH but, unlike Linuxbrew, installed software is <em>not</em> linked in ~/.spack/bin. Instead, Spack automatically creates modules that manage the environment for each package. You’ll need to enable shell integration by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">source</span> <span class="nv">$HOME</span>/.spack/share/spack/setup-env.sh  <span class="c"># sh or bash</span>
<span class="nv">$ </span><span class="nb">source</span> <span class="nv">$HOME</span>/.spack/share/spack/setup-env.csh <span class="c"># csh</span>
</code></pre></div></div>

<p>so that you can load the modules.</p>

<p>The spack command can be used to search the software repository and get information on packages.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>spack list python
<span class="nv">$ </span>spack info python
</code></pre></div></div>

<p>When building a package you can control a number of options, including the specific version to install (using @), what “variant” to build (+ and -), the exact versions of any dependencies that will be installed (^), and even which compiler to use (%). The list of options provided is called a “spec;” you can list installed packages and load a particular version according to its spec.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>spack <span class="nb">install </span>python @3.5.2
<span class="nv">$ </span>spack load python@3.5.2
</code></pre></div></div>

<p>Spack can’t update itself, but because it is a git repository you can check out releases as they are tagged or use git pull to stay in sync with the latest changes. It also won’t upgrade installed packages automatically, but you can use spack install to build a new version whenever one becomes available, and choose which version to load by spec. Run spack help for details on syntax and usage, and read the excellent Spack <a href="http://spack.readthedocs.io">manual</a> for more information.</p>

<h2 id="using-containers">Using Containers</h2>

<p>Another option for running software with special requirements or missing dependencies is containerization. 
You can pull a container of interest using Singularity. For example, here again is <a href="https://hub.docker.com/r/supertest2014/nyan/">nyancat</a>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>singularity pull docker://supertest2014/nyan
</code></pre></div></div>

<p>And then execute commands to the container, run it like a binary, or shell inside:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>singularity <span class="nb">exec </span>nyan_latest.sif which nyancat
<span class="nv">$ </span>singularity run nyan_latest.sif 
<span class="nv">$ </span>singularity shell nyan_latest.sif
</code></pre></div></div>

<p>You get the same result! See the <a href="https://www.sylabs.io/guides/latest/user-guide/">Singularity user guide</a>
for more examples and getting started.</p>

<div class="admonition ">
<p class="admonition-title">Important!</p>
<p>It is <strong>essential</strong> that you pull containers first, and then execute commands, run, or otherwise interact if you run jobs in parallel.</p>
</div>


    <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script>
$(document).ready(function() {

    var toc = $('#nav-toc');

    // Select each header
    sections = $('#md-container-pancakes h1');
        $.each(sections, function(idx, v) {
            section = $(v);
            var div_id = $(section).attr('id');
            var div_text = section.text().split('¶')[0];
            var parent = $("#" + div_id)
            var content = '<li id="link_' + div_id + '" class="md-nav__item"><a class="md-nav__link" href="#' + div_id + '" title="' + div_text +'">' + div_text +'</a></li>';
            $(toc).append(content);

            // Add section code to subnavigation
            var children = $('<nav class="md-nav"><ul class="md-nav__list"></nav></ul>')
            var contenders = $("#" + div_id).nextUntil( "h1" );
            $.each(contenders, function(idx, contender){
               if($(contender).is('h2')) {
                   var contender_id = $(contender).attr('id');
                   var contender_text = $(contender).text().split('¶')[0];
                   var content = '<li class="md-nav__item"><a class="md-nav__link" href="#' + contender_id + '" title="' + contender_text +'">' + contender_text +'</a></li>';
                   children.append(content);
                }
             })
             $("#link_" + div_id).append(children);
        });
    });
</script>

    <!-- this will parse through the header fields and add a button to open
     an issue / ask a question on Github. The editable field should be in
     the post frontend matter, and refer to the label to open the issue for -->

<style>
.more {
    float:right;
    font-size: 1.0rem !important;
}
.more:hover {
    color: cornflowerblue !important;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    font-weight: 200;
    box-shadow: 0px 8px 6px 0px rgba(0,0,0,0.2);
    padding: 0px 10px;
    z-index: 1;
}

.dropdown:hover .dropdown-content {
    display: block;
}
</style>
<script>
$(document).ready(function() {

    var divs = $("#h1,h2,h3,h4"); 
    $.each(divs, function(i,e){

        // Edit
        var did = $(e).attr('id');
        var start = '<div class="dropdown more"><span><i class="fa fa-ellipsis-h more" title="Edit"></i></span><div class="dropdown-content">';

        // Edit (assuming deployed under main organization repo)
        var link = "https://github.com/stanford-rc/stanford-rc.github.io/edit/master/_docs/software/how-to-install.md#" + did;
        var button = "<p><a href='" + link + "' target='_blank'>Edit this page</a></p>";
        start += button;

        // Issues;
        var link = "https://github.com/stanford-rc/stanford-rc.github.io/issues/new?labels=question&title=Question:&body=Question on: https://github.com/stanford-rc/stanford-rc.github.io/tree/master/_docs/software/how-to-install.md%23" + did;

        var button = "<p><a href='" + link + "' target='_blank'>Ask a Question</a></p>";
        start += button;
        start += "</div></div>";
        $(e).append(start)

    })
});
</script>

    </article>
</div>      

                </div>
            </div>
        </main>
    </div>
    <footer class="c-footer md-footer-nav">
  <div class="u-container c-footer__container">
    <nav class="md-footer-nav__inner md-grid">
         <a href="/docs/software/index" title="Software" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Software
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
      </nav>
    </div>
  
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 - Stanford Research Computing Center
          </div>        
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <a href="https://github.com/stanford-rc" target="_blank" class="md-footer-social__link fa fa-github"></a>
      <a href="https://twitter.com/StanfordCompute" target="_blank" class="md-footer-social__link fa fa-twitter"></a>
      
      <a href="http://hub.docker.com/r/srcc" class="md-footer-social__link fa" target="_blank">
        <img src="/assets/img/docker-clear.png" style="margin-left:10px" width="20px">
      </a>
  </div>

    </div>
  </div>

</footer>
<script src="/assets/js/application.js"></script>

<script>console.log('4')</script>
<script>app.initialize({version:"0.17.4", url:{base:''}})</script>

    <script>
var headers = ["h1", "h2", "h3", "h4"]
var colors = ["red", "orange", "green", "blue"]

$.each(headers, function(i, header){
    var color = colors[i];
    $(header).each(function () {
        var href=$(this).attr("id");
        $(this).append('<a class="headerlink" style="color:' + color + '" href="#' + href + '" title="Permanent link">¶</a>')
    });
})

// Ensure that sidebar on left has arrows
$(".pancakes-parent").on('click', function(){ 
    console.log($(this).next());
    $(this).next().find('.pancakes-child').toggle();
    if ($(this).hasClass('open-parent')){
        $(this).removeClass('open-parent');
    } else {
        $(this).addClass('open-parent');
    }
})
</script>

    <script>
$('h1').first().append('<div><span class="badge badge-danger"><a style="cursor:pointer; color:white" href="https://ask.cyberinfrastructure.org/search?q=linux">linux</a></span><span class="badge badge-danger"><a style="cursor:pointer; color:white" href="https://ask.cyberinfrastructure.org/search?q=hpc">hpc</a></span></div>')</script>

    <style>
#scrolltop {
  display: none; /* Hidden by default */
  position: fixed; /* Fixed/sticky position */
  bottom: 20px; /* Place the button at the bottom of the page */
  right: 30px; /* Place the button 30px from the right */
  z-index: 99; /* Make sure it does not overlap */
  border: none; /* Remove borders */
  outline: none; /* Remove outline */
  background-color: #8c1515; /* Set a background color */
  color: white; /* Text color */
  cursor: pointer; /* Add a mouse pointer on hover */
  padding: 10px 15px; /* Some padding */
  border-radius: 100px; /* Rounded corners */
  font-size: 18px; /* Increase font size */
  font-weight: 600;
}

#scrolltop:hover {
  background-color: #555; /* Add a dark-grey background on hover */
}
</style>
<button onclick="topFunction()" id="scrolltop" title="Go to top">🔝</button>

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("scrolltop").style.display = "block";
  } else {
    document.getElementById("scrolltop").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}
</script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143467500-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-143467500-1');
</script>

  </body>
</html>
