<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-language" content="en">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Rclone</title>
  <meta name="description" content="Rclone">
  <meta name="author" content="Stanford Research Computing Center">
  <meta name="theme-color" content="red">    
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
  <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="canonical" href="http://localhost:4000/docs/software/guides/rclone">
  <link rel="alternate" type="application/rss+xml" title="Stanford Research Computing" href="http://localhost:4000/feed.xml">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">      
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">  
  <script src="/assets/js/modernizr.74668098.js"></script>
  <link rel="shortcut icon" href="/assets/img/favicon/favicon.ico"> 
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/palette.css">


  <body dir="ltr" data-md-color-primary="red" data-md-color-accent="red">
    <svg class="md-svg">
<defs>
  <svg>
  <path d="M160 304q0 10-3.125 20.5t-10.75 19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75 19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360 304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25 2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75 1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75 0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5 46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor"></path></svg>
</defs></svg>

    <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off>
    <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off>
    <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href="#rclone" tabindex=1 class=md-skip> Skip to content </a>
    <header class=md-header data-md-component=header>
        <nav class="md-header-nav md-grid">
            <div class=md-flex>
                <div class="md-flex__cell md-flex__cell--shrink">
                  <a class="md-header-nav__button md-logo" href="http://localhost:4000" title="Stanford Research Computing">
                    <i class="md-icon" style="margin-top:5px"></i></a>
                </div>
                <div class="md-flex__cell md-flex__cell--shrink">
                    <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label>
                </div>
                <div class="md-flex__cell md-flex__cell--stretch">
                    <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> 
                        <span class=md-header-nav__topic>Stanford Research Computing</span>
                        <span class=md-header-nav__topic>Rclone</span>
                    </div>
                </div>
                <div class="md-flex__cell md-flex__cell--shrink">
                    <label class="md-icon md-icon--search md-header-nav__button" for=__search></label>
                    <div class=md-search data-md-component=search role=dialog>
                        <label class=md-search__overlay for=__search></label>
                        <div class=md-search__inner role=search>
                            <form class=md-search__form name=search>
                                <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active>
                                <label class="md-icon md-search__icon" for=__search></label>
                                <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button>
                            </form>
                            <div class=md-search__output>
                                <div class=md-search__scrollwrap data-md-scrollfix>
                                    <div class=md-search-result data-md-component=result>
                                        <div class=md-search-result__meta> Type to start searching </div>
                                        <ol class=md-search-result__list></ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/stanford-rc/stanford-rc.github.io" title="Go to repository">
          <div class="md-source__icon" style="padding-top:5px">
            <i class="fa fa-github fa-3x"></i>
          </div>
          <div class="md-source__repository">
            stanford-rc/stanford-rc.github.io
          </div></a>
        </div>
      </div>
    </div>
  </nav>
</header>


    <div class="md-container">         
        <main class="md-main">
            <div class="md-main__inner md-grid" data-md-component="container">
            <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <nav class="md-nav md-nav--primary" data-md-level="0">
        <label class="md-nav__title md-nav__title--site" for="__drawer"><span class="md-nav__button md-logo"><i class="md-icon"></i></span> Stanford Research Computing</label>
        <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/stanford-rc/stanford-rc.github.io" title="Go to repository">
          <div class="md-source__icon">
            <svg height="24" viewbox="0 0 24 24" width="24">
            <use height="24" width="24" xlink:href="#__github"></use></svg>
          </div>
          <div class="md-source__repository">
            stanford-rc/stanford-rc.github.io
          </div></a>
        </div>

        <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item md-nav__item--active">
            <input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"> 
                <label class="md-nav__link md-nav__link--active" for="__toc">Home</label>
                  <a class="md-nav__link md-nav__link--active" href="/" title="Home">Home</a>

            <nav class="md-nav md-nav--secondary">
              <label class="md-nav__title" for="__toc">Table of contents</label>
              <ul class="md-nav__list" data-md-scrollfix="">
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/getting-started"
                     id="pancakes-getting-started" 
                     title="Getting Started">Getting Started</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/software"
                     id="pancakes-software" 
                     title="Software">Software</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/job-managers"
                     id="pancakes-job-management" 
                     title="Job Management">Job Management</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/docs/tutorials/"
                     id="pancakes-tutorials" 
                     title="Tutorials">Tutorials</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/about"
                     id="pancakes-about" 
                     title="About">About</a>
                </li>
                
                <li class="md-nav__item">
                  <a class="md-nav__link" href="/news"
                     id="pancakes-news" 
                     title="News">News</a>
                </li>
                
              </ul>
            </nav>
          </li>

          <!-- This navigation is completely for mobile -->
          <li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/getting-started" title="Getting Started">Getting Started</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/software" title="Software">Software</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/job-managers" title="Job Management">Job Management</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/docs/tutorials/" title="Tutorials">Tutorials</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/about" title="About">About</a>
          </li><li class="md-nav__item mobile-nav" style="display:none">
            <a class="md-nav__link" href="/news" title="News">News</a>
          </li>

          <!-- This navigation is completely for non mobile -->
         
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="#pancakes-getting-started"
                id="pancakes-getting-started" 
                title="Getting Started">Getting Started</a>
                <nav class="md-nav">
                    <ul class="md-nav__list">
                        <li class="md-nav__item">
                        <a href="/docs/getting-started/" 
                           title="Overview" style="display:none"
                           class="md-nav__link pancakes-child">Overview</a>
                        </li>
                    </ul>
              </nav>
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="#pancakes-software"
                id="pancakes-software" 
                title="Software">Software</a>
                <nav class="md-nav">
                    <ul class="md-nav__list">
                        <li class="md-nav__item">
                        <a href="/docs/software/" 
                           title="Overview" style="display:none"
                           class="md-nav__link pancakes-child">Overview</a>
                        </li><li class="md-nav__item">
                        <a href="/docs/software/how-to-install" 
                           title="Installing Software" style="display:none"
                           class="md-nav__link pancakes-child">Installing Software</a>
                        </li><li class="md-nav__item">
                        <a href="/docs/software/guides/" 
                           title="Software Guides" style="display:none"
                           class="md-nav__link pancakes-child">Software Guides</a>
                        </li>
                    </ul>
              </nav>
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="#pancakes-job-management"
                id="pancakes-job-management" 
                title="Job Management">Job Management</a>
                <nav class="md-nav">
                    <ul class="md-nav__list">
                        <li class="md-nav__item">
                        <a href="/docs/job-managers/" 
                           title="Overview" style="display:none"
                           class="md-nav__link pancakes-child">Overview</a>
                        </li><li class="md-nav__item">
                        <a href="/docs/job-managers/slurm" 
                           title="slurm" style="display:none"
                           class="md-nav__link pancakes-child">slurm</a>
                        </li>
                    </ul>
              </nav>
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="/docs/tutorials/"
                id="pancakes-tutorials" 
                title="Tutorials">Tutorials</a>
                
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="/about"
                id="pancakes-about" 
                title="About">About</a>
                
         </li>
         <li class="md-nav__item md-nav__item--nested not-mobile-nav">
             <a class="md-nav__link pancakes-parent" href="/news"
                id="pancakes-news" 
                title="News">News</a>
                
         </li>

        </ul>
      </nav>
    </div>
  </div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <nav class="md-nav md-nav--secondary">
        <label class="md-nav__title" for="__toc">Table of contents</label>
        <ul id="nav-toc" class="md-nav__list" data-md-scrollfix="">
        <!-- toc will be appended here!-->
        </ul>
      </nav>
    </div>
  </div>
</div>

                <div id="md-container-pancakes">
                <div class="md-content"> 
    <article class="md-content__inner md-typeset">
    <h1 id="rclone">Rclone</h1>

<p>If you need to sync files between cloud storage to a cluster resource, <a href="https://github.com/ncw/rclone">Rclone</a> 
is a command line program that can help. The following tutorial is provided by a member of the Stanford community, and walks through transferring files from Box to a cluster on a Mac.</p>

<h2 id="getting-started">Getting Started</h2>

<h3 id="1-connect-to-your-cluster">1. Connect to Your Cluster</h3>

<p>If you haven’t done so already, open up a terminal and shell to your cluster:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ssh &lt;sunetid&gt;@&lt;cluster&gt;
</code></pre></div></div>

<p>You then will want to go to a location that has enough room to save the files.
Since $HOME spaces tend to be backed up and have a smaller limit (and you can 
lock yourself out if it fills up) let’s go to the $SCRATCH space. If your cluster
doesn’t have $SCRATCH, you can choose the location on the filesystem that
is typically used for working.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> <span class="nv">$SCRATCH</span>
</code></pre></div></div>

<h3 id="2-get-an-interactive-node">2. Get an Interactive Node</h3>

<p>Since we don’t want to run anything computationally intensive on the head node,
let’s ask for an interactive node. If you use SLURM, you can either ask for one with a
particular time and partition on the fly:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">--partition</span> owners <span class="nt">--time</span> 1:00:00 <span class="nt">--pty</span> bash
</code></pre></div></div>

<p>or (if supported) you can use sdev to ask for a development node for 1 hour:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>sdev
</code></pre></div></div>

<p>or you can write a quick script that will give you some further customized interactive node.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c">#SBATCH --job-name=test</span>
<span class="c">#SBATCH --time=400:00</span>
<span class="c">#SBATCH --ntasks=1</span>
<span class="c">#SBATCH --cpus-per-task=1</span>
<span class="c">#SBATCH --mem-per-cpu=2G</span>

srun <span class="nb">hostname</span>
</code></pre></div></div>

<p>Save this to the filesystem and then run it.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">chmod</span> +x ask-for-node.sh
<span class="nv">$ </span>./ask-for-node.sh
srun: job 45681945 queued and waiting <span class="k">for </span>resources
</code></pre></div></div>

<h3 id="3-load-rclone">3. Load Rclone</h3>

<p>Where is Rclone? It might be installed on your cluster as a module, if you use lmod:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>module load system rclone
</code></pre></div></div>

<p>Or you can install it on your own from <a href="https://rclone.org/install/">github</a>.
After installation, check to see that it’s on your path:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>which rclone
</code></pre></div></div>

<h3 id="4-configure-rclone">4. Configure Rclone</h3>

<p>And then we can configure it as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rclone config
</code></pre></div></div>

<p>You’ll notice that it’s going to store a configuration file in your user $HOME:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2019/07/09 13:03:56 NOTICE: Config file <span class="s2">"/home/users/vsochat/.config/rclone/rclone.conf"</span> not found - using defaults
</code></pre></div></div>

<p>It will first tell you that there are no “remotes” (cloud endpoints that you
connect to) found, and you can press “n” to make a new one:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>No remotes found - make a new one
n<span class="o">)</span> New remote
s<span class="o">)</span> Set configuration password
q<span class="o">)</span> Quit config
n/s/q&gt; n
</code></pre></div></div>

<p>Next, it asks for a meaningful name. It’s recommended to use some combination
to remind your future self that the endpoint is intended to be from Sherlock,
and to your cloud provider. For example, I might do:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>name&gt; VanessaClusterToBox
</code></pre></div></div>

<p>The next choice is the cloud endpoint itself. This is where you would select
the cloud provider that has the files that you want to connect to. There are
many to choose from! You would want to select the number that corresponds with
your choice. For example, I’d choose 5 or type “box” to select Box:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Type of storage to configure.
Enter a string value. Press Enter <span class="k">for </span>the default <span class="o">(</span><span class="s2">""</span><span class="o">)</span><span class="nb">.</span>
Choose a number from below, or <span class="nb">type </span><span class="k">in </span>your own value
 1 / Alias <span class="k">for </span>a existing remote
   <span class="se">\ </span><span class="s2">"alias"</span>
 2 / Amazon Drive
   <span class="se">\ </span><span class="s2">"amazon cloud drive"</span>
 3 / Amazon S3 Compliant Storage Providers <span class="o">(</span>AWS, Ceph, Dreamhost, IBM COS, Minio<span class="o">)</span>
   <span class="se">\ </span><span class="s2">"s3"</span>
 4 / Backblaze B2
   <span class="se">\ </span><span class="s2">"b2"</span>
 5 / Box
   <span class="se">\ </span><span class="s2">"box"</span>
 6 / Cache a remote
   <span class="se">\ </span><span class="s2">"cache"</span>
 7 / Dropbox
   <span class="se">\ </span><span class="s2">"dropbox"</span>
 8 / Encrypt/Decrypt a remote
   <span class="se">\ </span><span class="s2">"crypt"</span>
 9 / FTP Connection
   <span class="se">\ </span><span class="s2">"ftp"</span>
10 / Google Cloud Storage <span class="o">(</span>this is not Google Drive<span class="o">)</span>
   <span class="se">\ </span><span class="s2">"google cloud storage"</span>
11 / Google Drive
   <span class="se">\ </span><span class="s2">"drive"</span>
12 / Hubic
   <span class="se">\ </span><span class="s2">"hubic"</span>
13 / JottaCloud
   <span class="se">\ </span><span class="s2">"jottacloud"</span>
14 / Local Disk
   <span class="se">\ </span><span class="s2">"local"</span>
15 / Mega
   <span class="se">\ </span><span class="s2">"mega"</span>
16 / Microsoft Azure Blob Storage
   <span class="se">\ </span><span class="s2">"azureblob"</span>
17 / Microsoft OneDrive
   <span class="se">\ </span><span class="s2">"onedrive"</span>
18 / OpenDrive
   <span class="se">\ </span><span class="s2">"opendrive"</span>
19 / Openstack Swift <span class="o">(</span>Rackspace Cloud Files, Memset Memstore, OVH<span class="o">)</span>
   <span class="se">\ </span><span class="s2">"swift"</span>
20 / Pcloud
   <span class="se">\ </span><span class="s2">"pcloud"</span>
21 / QingCloud Object Storage
   <span class="se">\ </span><span class="s2">"qingstor"</span>
22 / SSH/SFTP Connection
   <span class="se">\ </span><span class="s2">"sftp"</span>
23 / Webdav
   <span class="se">\ </span><span class="s2">"webdav"</span>
24 / Yandex Disk
   <span class="se">\ </span><span class="s2">"yandex"</span>
25 / http Connection
   <span class="se">\ </span><span class="s2">"http"</span>
Storage&gt; 5
</code></pre></div></div>

<p>For client id and client secret, we will leave it blank (press ENTER for each)
to designate that we want to enter it manually when we run it, as opposed to saving
our credentials somewhere.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Box App Client Id.
Leave blank normally.
Enter a string value. Press Enter <span class="k">for </span>the default <span class="o">(</span><span class="s2">""</span><span class="o">)</span><span class="nb">.</span>
client_id&gt; 
Box App Client Secret
Leave blank normally.
Enter a string value. Press Enter <span class="k">for </span>the default <span class="o">(</span><span class="s2">""</span><span class="o">)</span><span class="nb">.</span>
client_secret&gt; 
</code></pre></div></div>

<p>Finally, it will ask you if you want to edit the Advanced config. You can say no (n).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Edit advanced config? <span class="o">(</span>y/n<span class="o">)</span>
y<span class="o">)</span> Yes
n<span class="o">)</span> No
y/n&gt; n
</code></pre></div></div>

<p>And finally, since you are working on a remote and headless machine, 
you should say no to the next answer.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Remote config
Use auto config?
 <span class="k">*</span> Say Y <span class="k">if </span>not sure
 <span class="k">*</span> Say N <span class="k">if </span>you are working on a remote or headless machine
y<span class="o">)</span> Yes
n<span class="o">)</span> No
y/n&gt; n
</code></pre></div></div>

<p>The next part is important, because we need to open a separate terminal (one
where we have a web browser available) to enter result asked for here. If you have 
a Mac, you can select Shell -&gt; New Window -&gt; New Window with Profile. If you have
another flavor of Linux (or Windows) then you will need to <a href="https://rclone.org/install/">install Rclone</a>
locally and then issue this command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rclone authorize <span class="s2">"box"</span>
</code></pre></div></div>

<p>A website will open for you to log in with your cloud provider (e.g., Box),
and after login, it will tell you to return to your terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Success!

	
All <span class="k">done</span><span class="nb">.</span> Please go back to rclone.
</code></pre></div></div>

<p>Back in the (second terminal, not the one on your cluster) you will see a message (that you
might have previously missed) about the browser opening, waiting for a code, and
then you will get the code (replaced below with xxxxxxxx):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>If your browser doesn<span class="s1">'t open automatically go to the following link: http://127.0.0.1:53682/auth
Log in and authorize rclone for access
Waiting for code...
Got code
Paste the following into your remote machine ---&gt;
{"access_token":"xxxxxxxxxxxxxx","token_type":"bearer","refresh_token":"xxxxxxxxxx","expiry":"2019-xx-xxxxxxxx"}
(---End paste
</span></code></pre></div></div>

<p>You need to copy <em>the entire thing</em> between the two brackets “{}” back into the first
terminal running on Sherlock, which will be showing this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>For this to work, you will need rclone available on a machine that has a web browser available.
Execute the following on your machine:
	rclone authorize <span class="s2">"box"</span>
Then <span class="nb">paste </span>the result below:
result&gt; 
</code></pre></div></div>

<p>After you paste, it will then ask you if it looks ok, and you can say y for yes.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>VanessaClusterToBox]
<span class="nb">type</span> <span class="o">=</span> box
token <span class="o">=</span> <span class="o">{</span>xxxxxxxxxxxxxxxxxxx<span class="o">}</span>
<span class="nt">--------------------</span>
y<span class="o">)</span> Yes this is OK
e<span class="o">)</span> Edit this remote
d<span class="o">)</span> Delete this remote
</code></pre></div></div>

<p>And close up with a listing of your current remotes. You can quit (q) after this,
because next we will test our setup.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Current remotes:

Name                 Type
<span class="o">====</span>                 <span class="o">====</span>
VanessaClusterToBox box

e<span class="o">)</span> Edit existing remote
n<span class="o">)</span> New remote
d<span class="o">)</span> Delete remote
r<span class="o">)</span> Rename remote
c<span class="o">)</span> Copy remote
s<span class="o">)</span> Set configuration password
q<span class="o">)</span> Quit config
e/n/d/r/c/s/q&gt; q
</code></pre></div></div>

<h3 id="5-test-rclone">5. Test Rclone</h3>

<p>Did it work? Let’s test listing files for our remote to see (filenames below
are made up).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rclone lsd VanessaClusterToBox: <span class="nt">--max-depth</span> 1
          <span class="nt">-1</span> 2018-08-09 09:52:01        <span class="nt">-1</span> pancakes
          <span class="nt">-1</span> 2019-03-13 23:33:03        <span class="nt">-1</span> miracles
          <span class="nt">-1</span> 2019-03-06 09:42:39        <span class="nt">-1</span> alaska
          <span class="nt">-1</span> 2018-02-06 02:37:40        <span class="nt">-1</span> share
</code></pre></div></div>

<p>Next, let’s copy a file to our cluster:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># rclone copy &lt;remote&gt;:&lt;cloud storage path&gt;  &lt;sherlock path&gt;</span>
<span class="nv">$ </span>rclone copy VanessaClusterToBox:pancakes  /scratch/users/vanessa/pancakes
</code></pre></div></div>

<p>There you go! If you want to interactively browser files, you can use 
the <a href="https://login.sherlock.stanford.edu">file manager</a> provided by OnDemand.</p>


    <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script>
$(document).ready(function() {

    var toc = $('#nav-toc');

    // Select each header
    sections = $('#md-container-pancakes h1');
        $.each(sections, function(idx, v) {
            section = $(v);
            var div_id = $(section).attr('id');
            var div_text = section.text().split('¶')[0];
            var parent = $("#" + div_id)
            var content = '<li id="link_' + div_id + '" class="md-nav__item"><a class="md-nav__link" href="#' + div_id + '" title="' + div_text +'">' + div_text +'</a></li>';
            $(toc).append(content);

            // Add section code to subnavigation
            var children = $('<nav class="md-nav"><ul class="md-nav__list"></nav></ul>')
            var contenders = $("#" + div_id).nextUntil( "h1" );
            $.each(contenders, function(idx, contender){
               if($(contender).is('h2')) {
                   var contender_id = $(contender).attr('id');
                   var contender_text = $(contender).text().split('¶')[0];
                   var content = '<li class="md-nav__item"><a class="md-nav__link" href="#' + contender_id + '" title="' + contender_text +'">' + contender_text +'</a></li>';
                   children.append(content);
                }
             })
             $("#link_" + div_id).append(children);
        });
    });
</script>

    <!-- this will parse through the header fields and add a button to open
     an issue / ask a question on Github. The editable field should be in
     the post frontend matter, and refer to the label to open the issue for -->

<style>
.more {
    float:right;
    font-size: 1.0rem !important;
}
.more:hover {
    color: cornflowerblue !important;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    font-weight: 200;
    box-shadow: 0px 8px 6px 0px rgba(0,0,0,0.2);
    padding: 0px 10px;
    z-index: 1;
}

.dropdown:hover .dropdown-content {
    display: block;
}
</style>
<script>
$(document).ready(function() {

    var divs = $("#h1,h2,h3,h4"); 
    $.each(divs, function(i,e){

        // Edit
        var did = $(e).attr('id');
        var start = '<div class="dropdown more"><span><i class="fa fa-ellipsis-h more" title="Edit"></i></span><div class="dropdown-content">';

        // Edit (assuming deployed under main organization repo)
        var link = "https://github.com/stanford-rc/stanford-rc.github.io/edit/master/_docs/software/guides/rclone.md#" + did;
        var button = "<p><a href='" + link + "' target='_blank'>Edit this page</a></p>";
        start += button;

        // Issues;
        var link = "https://github.com/stanford-rc/stanford-rc.github.io/issues/new?labels=question&title=Question:&body=Question on: https://github.com/stanford-rc/stanford-rc.github.io/tree/master/_docs/software/guides/rclone.md%23" + did;

        var button = "<p><a href='" + link + "' target='_blank'>Ask a Question</a></p>";
        start += button;
        start += "</div></div>";
        $(e).append(start)

    })
});
</script>

    </article>
</div>      

                </div>
            </div>
        </main>
    </div>
    <footer class="c-footer md-footer-nav">
  <div class="u-container c-footer__container">
    <nav class="md-footer-nav__inner md-grid">
         <a href="/docs/software/how-to-install" title="How to Install Software" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                How to Install Software
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
      </nav>
    </div>
  
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 - Stanford Research Computing Center
          </div>        
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <a href="https://github.com/stanford-rc" target="_blank" class="md-footer-social__link fa fa-github"></a>
      <a href="https://twitter.com/StanfordCompute" target="_blank" class="md-footer-social__link fa fa-twitter"></a>
      
      <a href="http://hub.docker.com/r/srcc" class="md-footer-social__link fa" target="_blank">
        <img src="/assets/img/docker-clear.png" style="margin-left:10px" width="20px">
      </a>
  </div>

    </div>
  </div>

</footer>
<script src="/assets/js/application.js"></script>

<script>console.log('5')</script>
<script>app.initialize({version:"0.17.4", url:{base:''}})</script>

    <script>
var headers = ["h1", "h2", "h3", "h4"]
var colors = ["red", "orange", "green", "blue"]

$.each(headers, function(i, header){
    var color = colors[i];
    $(header).each(function () {
        var href=$(this).attr("id");
        $(this).append('<a class="headerlink" style="color:' + color + '" href="#' + href + '" title="Permanent link">¶</a>')
    });
})

// Ensure that sidebar on left has arrows
$(".pancakes-parent").on('click', function(){ 
    console.log($(this).next());
    $(this).next().find('.pancakes-child').toggle();
    if ($(this).hasClass('open-parent')){
        $(this).removeClass('open-parent');
    } else {
        $(this).addClass('open-parent');
    }
})
</script>

    <script>
$('h1').first().append('<div><span class="badge badge-danger"><a style="cursor:pointer; color:white" href="https://ask.cyberinfrastructure.org/search?q=rclone">rclone</a></span><span class="badge badge-danger"><a style="cursor:pointer; color:white" href="https://ask.cyberinfrastructure.org/search?q=transfer">transfer</a></span></div>')</script>

    <style>
#scrolltop {
  display: none; /* Hidden by default */
  position: fixed; /* Fixed/sticky position */
  bottom: 20px; /* Place the button at the bottom of the page */
  right: 30px; /* Place the button 30px from the right */
  z-index: 99; /* Make sure it does not overlap */
  border: none; /* Remove borders */
  outline: none; /* Remove outline */
  background-color: #8c1515; /* Set a background color */
  color: white; /* Text color */
  cursor: pointer; /* Add a mouse pointer on hover */
  padding: 10px 15px; /* Some padding */
  border-radius: 100px; /* Rounded corners */
  font-size: 18px; /* Increase font size */
  font-weight: 600;
}

#scrolltop:hover {
  background-color: #555; /* Add a dark-grey background on hover */
}
</style>
<button onclick="topFunction()" id="scrolltop" title="Go to top">🔝</button>

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    document.getElementById("scrolltop").style.display = "block";
  } else {
    document.getElementById("scrolltop").style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}
</script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143467500-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-143467500-1');
</script>

  </body>
</html>
